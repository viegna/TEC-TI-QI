	/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package br.edu.qi.view;

import br.edu.qi.model.Aluno;
import br.edu.qi.util.Validacao;
import java.awt.Color;
import java.awt.event.KeyEvent;
import javax.swing.BorderFactory;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;

/**
 *
 * @author Henrique Silva Camargo
 * @version 1.0 Ashley
 * @since 26/06/2019 - 08:53
 */
public class UICadAluno extends javax.swing.JFrame {

    /**
     * Creates new form UICadAluno
     */
    public UICadAluno() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents()                     

    private void cadastrar() {
        try {
            //cenário Real!
            if (jtNome.getText().isEmpty()) {
                throw new NumberFormatException(
                        "Nome inválido!");
            }//todos os demais.

            //validacao de sexo
            if(bgSexo.getSelection() == null) {
                throw new NumberFormatException("Escolha um sexo agora!");
            }
            
            //cenário Disney!
            Aluno aluno = new Aluno();
            aluno.setNome(jtNome.getText());
            aluno.setSobrenome(jtSobrenome.getText());
            aluno.setNota1(Double.parseDouble(jtNota1.getText()));
            aluno.setNota2(Double.parseDouble(jtNota2.getText()));
            aluno.setPeso1(Double.parseDouble(jtPeso1.getText()));
            aluno.setPeso2(Double.parseDouble(jtPeso2.getText()));
            aluno.setTotalAula(Integer.parseInt(jtTotalAula.getText()));
            aluno.setNumeroPresenca(Integer.parseInt(jtNumeroPresenca.getText()));
            aluno.setSexo(bgSexo.getSelection().getActionCommand());
JOptionPane.showMessageDialog(this, "Dados:\n" + aluno.toString());
            limpar();
            //JOptionPane.showMessageDialog(this, aluno.dividir(10, 0));
        } catch (NumberFormatException numberFormatException) {
            JOptionPane.showMessageDialog(
                    this,
                    "Erro, dado inválido! " + numberFormatException.getMessage(),
                    "Erro",
                    JOptionPane.ERROR_MESSAGE);
        } catch (ArithmeticException arithmeticException) {
            JOptionPane.showMessageDialog(
                    this,
                    "Erro, pau aritmético! " + arithmeticException.getMessage(),
                    "Erro",
                    JOptionPane.ERROR_MESSAGE);
        } catch (Exception exception) {
            JOptionPane.showMessageDialog(
                    this,
                    "Algum e o! " + exception.getMessage(),
                    "Erro",
                    JOptionPane.ERROR_MESSAGE);
        } finally {
            System.out.println("passou aqui");
        }
    }//fecha cadastrar

    private void limpar() {
        jtNome.setText("");
        jtNota1.setText("");
        jtNota2.setText("");
        jtNumeroPresenca.setText("");
        jtPeso1.setText("");
        jtPeso2.setText("");

        jtSobrenome.setText("");
        jtTotalAula.setText("");
        bgSexo.clearSelection();
        jtNome.grabFocus();
    }//fecha limpar

    private void limpar2() {
        jtNome.setText("");
        jtNota1.setText("");
        jtNota2.setText("");
        jtNumeroPresenca.setText("");
        jtPeso1.setText("");
        jtPeso2.setText("");
        
        jtSobrenome.setText("");
        jtTotalAula.setText("");
        bgSexo.clearSelection();
        jtNome.grabFocus();
        
        jlNomeErro.setIcon(null);
        jlNomeErro.setVisible(false);
    }//fecha limpar2

    private void jbCadastrarActionPerformed(java.awt.event.ActionEvent evt) {                                            
        cadastrar();

    }                                           

    private void jbLimparActionPerformed(java.awt.event.ActionEvent evt) {                                         
        limpar2();
    }                                        

    private void jtNomeKeyPressed(java.awt.event.KeyEvent evt) {                                  
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jtSobrenome.grabFocus();
        }//fecha if
    }                                 

    private void jtSobrenomeKeyPressed(java.awt.event.KeyEvent evt) {                                       
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jtNota1.grabFocus();
        }//fecha if
    }                                      

    private void jtNota1KeyPressed(java.awt.event.KeyEvent evt) {                                   
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jtNota2.grabFocus();
        }//fecha if
    }                                  

    private void jtNota2KeyPressed(java.awt.event.KeyEvent evt) {                                   
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jtPeso1.grabFocus();
        }//fecha if
    }                                  

    private void jtPeso1KeyPressed(java.awt.event.KeyEvent evt) {                                   
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jtPeso2.grabFocus();
        }//fecha if
    }                                  

    private void jtPeso2KeyPressed(java.awt.event.KeyEvent evt) {                                   
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jtTotalAula.grabFocus();
        }//fecha if
    }                                  

    private void jtTotalAulaKeyPressed(java.awt.event.KeyEvent evt) {                                       
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jtNumeroPresenca.grabFocus();
        }//fecha if
    }                                      

    private void jtNumeroPresencaKeyPressed(java.awt.event.KeyEvent evt) {                                            
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jrbMasculino.grabFocus();
        }//fecha if
    }                                           

    private void jbCadastrarKeyPressed(java.awt.event.KeyEvent evt) {                                       
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            cadastrar();

        }//fecha if
    }                                      

    private void jbLimparKeyPressed(java.awt.event.KeyEvent evt) {                                    
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            limpar2();
        }//fecha if
    }                                   

    private void jrbMasculinoKeyPressed(java.awt.event.KeyEvent evt) {                                        
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jrbFeminino.grabFocus();
        }//fecha if
    }                                       

    private void jrbFemininoKeyPressed(java.awt.event.KeyEvent evt) {                                       
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            jbCadastrar.grabFocus();
        }//fecha if
    }                                      

    private void jtNomeFocusLost(java.awt.event.FocusEvent evt) {                                 
        if (!Validacao.validarNome(jtNome.getText())) { //        if (jtNome.getText().isEmpty())) {
            jtNome.setBackground(Color.red);
            jtNome.setForeground(Color.yellow);
            jtNome.setBorder(
              BorderFactory.createLineBorder(
                      Color.yellow));
            //label
            jlNomeErro.setVisible(true);
            jlNomeErro.setText("Nome em branco!");
            
            jlNomeErro.setIcon(
                new ImageIcon(
                    getClass().getResource(
                        "/br/edu/qi/images/error.png")));
        } else {
            jtNome.setBackground(Color.green);
            jtNome.setForeground(Color.decode("#f98000"));
            BorderFactory.createLineBorder(
                    Color.lightGray);
            //label
            jlNomeErro.setVisible(true);
            jlNomeErro.setText("");
                        jlNomeErro.setIcon(
                new ImageIcon(
                    getClass().getResource(
                        "/br/edu/qi/images/ok.png")));
        }//fecha else
    }                                

    private void jrbFemininoFocusLost(java.awt.event.FocusEvent evt) {                                      
        //validacao de sexo
        if(bgSexo.getSelection() == null) {
            jlSexoErro.setText("Escolha um sexo");
        } else {
            jlSexoErro.setText("");
        }
    }                                     

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(UICadAluno.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(UICadAluno.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(UICadAluno.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(UICadAluno.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new UICadAluno().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private javax.swing.ButtonGroup bgSexo;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JButton jbCadastrar;
    private javax.swing.JButton jbLimpar;
    private javax.swing.JLabel jlNome;
    private javax.swing.JLabel jlNomeErro;
    private javax.swing.JLabel jlNota1;
    private javax.swing.JLabel jlNota2;
    private javax.swing.JLabel jlNumeroPresenca;
    private javax.swing.JLabel jlPeso1;
    private javax.swing.JLabel jlPeso2;
    private javax.swing.JLabel jlSexo;
    private javax.swing.JLabel jlSexoErro;
    private javax.swing.JLabel jlSobrenome;
    private javax.swing.JLabel jlTotalAula;
    private javax.swing.JLayeredPane jlpAcoes;
    private javax.swing.JLayeredPane jlpCadastro;
    private javax.swing.JRadioButton jrbFeminino;
    private javax.swing.JRadioButton jrbMasculino;
    private javax.swing.JTextField jtNome;
    private javax.swing.JTextField jtNota1;
    private javax.swing.JTextField jtNota2;
    private javax.swing.JTextField jtNumeroPresenca;
    private javax.swing.JTextField jtPeso1;
    private javax.swing.JTextField jtPeso2;
    private javax.swing.JTextField jtSobrenome;
    private javax.swing.JTextField jtTotalAula;
    // End of variables declaration                   
}
 